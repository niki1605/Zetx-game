// –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
const allGamesData = {
    1: {
        id: 1,
        title: "Mem clicker",
        description: "–ò–≥—Ä–∞ –≤ –∂–∞–Ω—Ä–µ –∫–ª–∏–∫–µ—Ä, –≥–¥–µ —Ç—ã –º–æ–∂–µ—à—å –∏–∑–º–µ–Ω—è—Ç—å —Å–∫–∏–Ω –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–µ–º –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Å–ª–æ–≤–∞–º–∏ –∏–∑ —ç—Ç–æ–≥–æ –º–µ–º–∞. –£–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞ —Å –ø—Ä–æ—Å—Ç—ã–º –≥–µ–π–º–ø–ª–µ–µ–º –∏ –∑–∞–±–∞–≤–Ω—ã–º–∏ –º–µ–º–∞–º–∏.",
        category: "casual",
        platform: "mobile",
        image: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/%D0%BE%D0%B1%D0%BB%D0%BE%D1%88%D0%BA%D0%B0%20ya.png",
        url: "https://www.rustore.ru/catalog/app/com.zetxplay.Memkliker",
        icon: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/ikonka.jpg",
        screenshots: [
            "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/%D1%81%D0%BA%D1%80%D0%B8%D0%BD%20%281%29.jpg",
            "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/%D1%81%D0%BA%D1%80%D0%B8%D0%BD%20%282%29.png"
        ],
        developer: "Zetx Play",
    landscapeScreenshots: false, // –ü–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
    donationIframe: '<iframe src="https://yoomoney.ru/quickpay/fundraise/button?billNumber=145K4U2FG4A.240723&" width="330" height="50" frameborder="0" allowtransparency="true" scrolling="no"></iframe>'
    },
    2: {
         id: 2,
    title: "Colour man",
    description: "Colour man - —ç—Ç–æ –∏–≥—Ä–∞, –≥–¥–µ –≤–∞–º –Ω–∞–¥–æ —Å–æ–±—Ä–∞—Ç—å —à–∞—Ä–∏–∫–∏ —Ç–æ–≥–æ –∂–µ —Ü–≤–µ—Ç–∞, —á—Ç–æ –∏ –±–µ–≥—É—â–∏–π —á–µ–ª–æ–≤–µ—á–µ–∫, —Å–æ–±–∏—Ä–∞–π —à–∞—Ä–∏–∫–∏ - –Ω–∞–±–∏—Ä–∞–π –æ—á–∫–∏ –∏ —É–≤–æ—Ä–∞—á–∏–≤–∞–π—Å—è –æ—Ç –ø–∏–∫ - —Å–æ—Ö—Ä–∞–Ω—è–π –æ—á–∫–∏. –ñ–µ–ª–∞–µ–º —Ö–æ—Ä–æ—à–µ–π –∏–≥—Ä—ã!",
    category: "casual",
    platform: "mobile",
    image: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/%D0%BE%D0%B1%D0%BB%D0%BE%D1%88%D0%BA%D0%B0.png",
    url: "https://www.rustore.ru/catalog/app/com.zetxplay.Memkliker",
    icon: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/ikonka.jpg",
    screenshots: [
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/2024-04-30_17-21-50.png",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/2024-04-30_17-19-04.png",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/2024-04-30_17-17-50.png"
    ],
    developer: "Zetx play",
    landscapeScreenshots: false, // –ü–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
    donationIframe: '<iframe src="https://yoomoney.ru/quickpay/fundraise/button?billNumber=145K4U2FG4A.240723&" width="330" height="50" frameborder="0" allowtransparency="true" scrolling="no"></iframe>'
    },
    3: {
          id: 3,
    title: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º–µ–º–æ–≤",
    description: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º–µ–º–æ–≤ —ç—Ç–æ –∏–≥—Ä–∞ –ø—Ä–æ –≤—Å–µ–º–∏ –Ω–∞–º–∏ –ª—é–±–∏–º—ã–µ –º–µ–º—ã, —Ç—É—Ç –º–æ–∂–Ω–æ –∫–∞–∫ –∏ –≤—Å–ø–æ–º–Ω–∏—Ç—å –±–µ—Å—Å–º–µ—Ä—Ç–Ω—É—é –∫–ª–∞—Å—Å–∏–∫—É —Ç–∞–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–µ –º–µ–º—ã. –¢–∞–∫ –∂–µ –≤ –∏–≥—Ä–µ –µ—Å—Ç—å –ø–∞—Å—Ö–∞–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø—Ä—è—Ç–∞—Ç—å—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö. –ö–∞—á–∞–π –∏–≥—Ä—É –∏ –ø–æ–≤–µ—Å–µ–ª–∏—Å—å.",
    category: "casual",
    platform: "mobile",
    image: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/%D0%BE%D0%B1%D0%BB%D0%BE%D1%88%D0%BA%D0%B0.jpg",
    url: "https://www.rustore.ru/catalog/app/com.zetxplay.Memkliker",
    icon: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/ikonka.jpg",
    screenshots: [
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/scrin3%20%282%29.png",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/scrin2.jpg",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/scrin1.png"
    ],
    developer: "Zetx play",
    landscapeScreenshots: true, // –ü–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
    donationIframe: '<iframe src="https://yoomoney.ru/quickpay/fundraise/button?billNumber=145K4U2FG4A.240723&" width="330" height="50" frameborder="0" allowtransparency="true" scrolling="no"></iframe>'
    }

};

// –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ—Ç–∞–ª–µ–π –∏–≥—Ä—ã
function loadGameDetails() {
    const gameContainer = document.getElementById('game-detail-container');
    
    if (!gameContainer) return;
    
    // –ü–æ–ª—É—á–∞–µ–º ID –∏–≥—Ä—ã –∏–∑ localStorage
    const gameId = localStorage.getItem('selectedGameId');
    
    if (!gameId || !allGamesData[gameId]) {
        gameContainer.innerHTML = `
            <div class="error-message">
                <h2>–ò–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</h2>
                <p>–ò–∑–≤–∏–Ω–∏—Ç–µ, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è –∏–≥—Ä–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.</p>
                <a href="index.html" class="btn btn-primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
            </div>
        `;
        return;
    }
    
    const game = allGamesData[gameId];
    const screenshots = Array.isArray(game.screenshots) ? game.screenshots : [];
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
    const screenshotClass = game.landscapeScreenshots ? 'screenshot-landscape' : 'screenshot-portrait';
    
    gameContainer.innerHTML = `
        <div class="game-detail">
            <!-- –û–±–ª–æ–∂–∫–∞ –∏–≥—Ä—ã -->
            <div class="game-cover">
                <img src="${game.image || ''}" alt="${game.title}" onerror="this.src='https://via.placeholder.com/800x400/283593/ffffff?text=No+Image'">
            </div>
            
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="game-main-info">
                <div class="game-header">
                    <h1 class="game-title">${game.title || '–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã'}</h1>
                    <div class="game-meta">
                        <span class="game-category">${getCategoryName(game.category)}</span>
                        <span class="game-platform">${getPlatformName(game.platform)}</span>
                        <span class="game-developer">üë®‚Äçüíª ${game.developer || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫'}</span>
                    </div>
                </div>
                
                <p class="game-description">${game.description || '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}</p>
                
                <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–π—Ç–∏ –∫ –∏–≥—Ä–µ -->
                <div class="game-actions">
                    <a href="${game.url || '#'}" target="_blank" class="btn btn-primary btn-large">
                        üéÆ –ü–µ—Ä–µ–π—Ç–∏ –∫ –∏–≥—Ä–µ
                    </a>
                </div>
            </div>
            
            <!-- –°–∫—Ä–∏–Ω—à–æ—Ç—ã -->
            ${screenshots.length > 0 ? `
            <div class="game-screenshots">
                <h2>–°–∫—Ä–∏–Ω—à–æ—Ç—ã</h2>
                <div class="screenshots-grid ${screenshotClass}">
                    ${screenshots.map(screenshot => 
                        `<div class="screenshot-item">
                            <img src="${screenshot}" alt="–°–∫—Ä–∏–Ω—à–æ—Ç –∏–≥—Ä—ã ${game.title}" onerror="this.src='https://via.placeholder.com/600x400/3949ab/ffffff?text=Screenshot+Error'">
                        </div>`
                    ).join('')}
                </div>
            </div>
            ` : '<p class="no-screenshots">–°–∫—Ä–∏–Ω—à–æ—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</p>'}
            
            <!-- –ü–∞–Ω–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ -->
            <div class="donation-panel">
                <h3>–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</h3>
                <p>–ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –∏–≥—Ä–∞, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</p>
                <div class="donation-iframe-container" id="donation-container">
                    ${game.donationIframe || '<p class="no-donation">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è —ç—Ç–æ–π –∏–≥—Ä—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</p>'}
                </div>
            </div>
        </div>
    `;
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function getCategoryName(categoryKey) {
    const categories = {
        'action': '–≠–∫—à–µ–Ω',
        'strategy': '–°—Ç—Ä–∞—Ç–µ–≥–∏—è',
        'puzzle': '–ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞',
        'adventure': '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ',
        'arcade': '–ê—Ä–∫–∞–¥–∞',
        'rpg': 'RPG',
        'simulation': '–°–∏–º—É–ª—è—Ç–æ—Ä',
        'sports': '–°–ø–æ—Ä—Ç',
        'casual': '–ö–∞–∑—É–∞–ª—å–Ω–∞—è'
    };
    return categories[categoryKey] || '–î—Ä—É–≥–æ–µ';
}

function getPlatformName(platformKey) {
    const platforms = {
        'mobile': 'üì± –ú–æ–±–∏–ª—å–Ω–∞—è',
        'pc': 'üíª PC',
        'web': 'üåê –í–µ–±',
        'console': 'üéÆ –ö–æ–Ω—Å–æ–ª—å'
    };
    return platforms[platformKey] || '–î—Ä—É–≥–∞—è';
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ç–∞–ª–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', loadGameDetails);