


// –î–∞–Ω–Ω—ã–µ –∏–≥—Ä
const gamesData = [
    {
        id: 1,
        title: "Mem clicker",
        description: "–ò–≥—Ä–∞ –≤ –∂–∞–Ω—Ä–µ –∫–ª–∏–∫–µ—Ä, –≥–¥–µ —Ç—ã –º–æ–∂–µ—à—å –∏–∑–º–µ–Ω—è—Ç—å —Å–∫–∏–Ω –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–µ–º –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Å–ª–æ–≤–∞–º–∏ –∏–∑ —ç—Ç–æ–≥–æ –º–µ–º–∞.",
        category: "casual",
        platform: "mobile", // –î–æ–±–∞–≤–ª—è–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
        image: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/%D0%BE%D0%B1%D0%BB%D0%BE%D1%88%D0%BA%D0%B0%20ya.png",
        url: "https://www.rustore.ru/catalog/app/com.zetxplay.Memkliker",
        icon: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/ikonka.jpg",
        screenshots: [
            "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/%D1%81%D0%BA%D1%80%D0%B8%D0%BD%20%281%29.jpg",
            "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/%D1%81%D0%BA%D1%80%D0%B8%D0%BD%20%282%29.png"
        ]
    },
    {
         id: 2,
    title: "Colour man",
    description: "Colour man - —ç—Ç–æ –∏–≥—Ä–∞, –≥–¥–µ –≤–∞–º –Ω–∞–¥–æ —Å–æ–±—Ä–∞—Ç—å —à–∞—Ä–∏–∫–∏ —Ç–æ–≥–æ –∂–µ —Ü–≤–µ—Ç–∞, —á—Ç–æ –∏ –±–µ–≥—É—â–∏–π —á–µ–ª–æ–≤–µ—á–µ–∫, —Å–æ–±–∏—Ä–∞–π —à–∞—Ä–∏–∫–∏ - –Ω–∞–±–∏—Ä–∞–π –æ—á–∫–∏ –∏ —É–≤–æ—Ä–∞—á–∏–≤–∞–π—Å—è –æ—Ç –ø–∏–∫ - —Å–æ—Ö—Ä–∞–Ω—è–π –æ—á–∫–∏. –ñ–µ–ª–∞–µ–º —Ö–æ—Ä–æ—à–µ–π –∏–≥—Ä—ã!",
    category: "casual",
    platform: "mobile",
    image: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/%D0%BE%D0%B1%D0%BB%D0%BE%D1%88%D0%BA%D0%B0.png",
    url: "https://www.rustore.ru/catalog/app/com.DefaultCompany.ranerRustore",
    icon: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/ikonka.jpg",
    screenshots: [
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/2024-04-30_17-21-50.png",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/2024-04-30_17-19-04.png",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/Colour%20man/2024-04-30_17-17-50.png"
    ]
    },
     {
       id: 3,
    title: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º–µ–º–æ–≤",
    description: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º–µ–º–æ–≤ —ç—Ç–æ –∏–≥—Ä–∞ –ø—Ä–æ –≤—Å–µ–º–∏ –Ω–∞–º–∏ –ª—é–±–∏–º—ã–µ –º–µ–º—ã, —Ç—É—Ç –º–æ–∂–Ω–æ –∫–∞–∫ –∏ –≤—Å–ø–æ–º–Ω–∏—Ç—å –±–µ—Å—Å–º–µ—Ä—Ç–Ω—É—é –∫–ª–∞—Å—Å–∏–∫—É —Ç–∞–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–µ –º–µ–º—ã. –¢–∞–∫ –∂–µ –≤ –∏–≥—Ä–µ –µ—Å—Ç—å –ø–∞—Å—Ö–∞–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø—Ä—è—Ç–∞—Ç—å—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö. –ö–∞—á–∞–π –∏–≥—Ä—É –∏ –ø–æ–≤–µ—Å–µ–ª–∏—Å—å.",
    category: "casual",
    platform: "mobile",
    image: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%20%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/%D0%BE%D0%B1%D0%BB%D0%BE%D1%88%D0%BA%D0%B0.jpg",
    url: "https://www.rustore.ru/catalog/app/com.zetxplay.Memkliker",
    icon: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/ikonka.jpg",
    screenshots: [
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%20%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/scrin1.png",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%20%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/scrin2.jpg",
        "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/%20%D0%92%D0%B8%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D0%B2/scrin3%20%282%29.png"
    ]  
},
     {
    id: 4,
    title: "Dog Apple",
    description: "–í—ã –ø–æ–ø–∞–ª–∏ –≤ –ª–µ—Å –º–µ–º–æ–≤! –í–∞—Å –∑–∞—Å—Ç–∞–≤–∏–ª–∏ —Å–æ–±–∏—Ä–∞—Ç—å —è–±–ª–æ–∫–∏, –∏ –Ω–∞ –≤–∞—Å –Ω–∞–ø–∞–ª —Ö–æ–¥—è—á–∏–π –º–µ–º.",
    category: "adventure",
    platform: "pc",
    image: "https://vkplay.ru/hotbox/showcase/gamelocale/picture/44794e56-ed2f-430c-a82d-ff2c272a6f12.jpeg",
    url: "https://vkplay.ru/play/game/dog-apple",
    icon: "https://gameforstore.hb.ru-msk.vkcloud-storage.ru/mem%20clicker/ikonka.jpg",
    screenshots: [
        "https://vkplay.ru/pre_1068x600_resize/hotbox/showcase/gamehighlight/pic/e06455d0-e9c0-47f1-b524-82991ddb1a28.png?quality=85&format=webp",
        "https://vkplay.ru/pre_1068x600_resize/hotbox/showcase/gamehighlight/pic/94ba2413-f916-4383-b6fb-73cdeac7b482.png?quality=85&format=webp",
        "https://vkplay.ru/pre_1068x600_resize/hotbox/showcase/gamehighlightdraft/pic/e9c7a052-94e5-482a-98b3-30b314642f23.jpeg?quality=85&format=webp",
        "https://vkplay.ru/pre_1068x600_resize/hotbox/showcase/gamehighlight/pic/64fe9394-3350-40b6-b9b5-84ca96f553f2.png?quality=85&format=webp"

    ]
    
}
];

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const gamesContainer = document.getElementById('games-container');
const gameForm = document.getElementById('game-form');
const filterButtons = document.querySelectorAll('.filter-btn');
const notification = document.getElementById('notification');
const addGameModal = document.getElementById('add-game-modal');
const openAddGameBtn = document.getElementById('open-add-game');
const openAddGameHeroBtn = document.getElementById('open-add-game-hero');
const openAddGameFooterBtn = document.getElementById('open-add-game-footer');
const closeAddGameBtn = document.getElementById('close-add-game');
const closeAddGameModal = addGameModal.querySelector('.close');

// –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    loadGames('all');
    setupEventListeners();
});

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
function setupEventListeners() {
    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–≥—Ä
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            const filter = this.getAttribute('data-filter');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–≥—Ä—ã –ø–æ —Ñ–∏–ª—å—Ç—Ä—É
            loadGames(filter);
        });
    });
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
    gameForm.addEventListener('submit', handleFormSubmit);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä—ã
    closeAddGameBtn.addEventListener('click', function() {
        addGameModal.style.display = 'none';
    });
    
    closeAddGameModal.addEventListener('click', function() {
        addGameModal.style.display = 'none';
    });
    
    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä—ã
    openAddGameBtn.addEventListener('click', openAddGameModal);
    openAddGameHeroBtn.addEventListener('click', openAddGameModal);
    openAddGameFooterBtn.addEventListener('click', openAddGameModal);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
    window.addEventListener('click', function(event) {
        if (event.target === addGameModal) {
            addGameModal.style.display = 'none';
        }
    });
    
    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Å–µ–∫—Ü–∏—è–º
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ —Ñ–æ—Ä–º–µ
    document.querySelectorAll('input[name="platform"]').forEach(radio => {
        radio.addEventListener('change', updateScreenshotWarnings);
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
    window.addEventListener('resize', updateImageRecommendations);
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã
    openAddGameBtn.addEventListener('click', function() {
        setTimeout(() => {
            updateScreenshotWarnings();
            updateImageRecommendations();
        }, 100);
    });
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
    gameForm.addEventListener('input', function(e) {
        if (e.target.id === 'icon-url' || e.target.id === 'screenshots-url') {
            validateImageFields();
        }
    });
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä
function loadGames(filter) {
    gamesContainer.innerHTML = '';
    
    const filteredGames = filter === 'all' 
        ? gamesData 
        : gamesData.filter(game => game.category === filter);
    
    if (filteredGames.length === 0) {
        gamesContainer.innerHTML = '<p class="no-games">–ò–≥—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
        return;
    }
    
    filteredGames.forEach(game => {
        const gameCard = createGameCard(game);
        gamesContainer.appendChild(gameCard);
    });
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–≥—Ä—ã
function createGameCard(game) {
    const card = document.createElement('div');
    card.className = 'game-card';
    card.setAttribute('data-category', game.category);
    
    card.innerHTML = `
        <img src="${game.image}" alt="${game.title}" onerror="this.src='https://via.placeholder.com/300x200/283593/ffffff?text=No+Image'">
        <div class="game-card-content">
            <h3 class="game-card-title">${game.title}</h3>
            <p class="game-card-description">${game.description}</p>
            <div class="game-card-footer">
                <span class="game-card-category">${getCategoryName(game.category)}</span>
                <button class="btn btn-small btn-primary" data-id="${game.id}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            </div>
        </div>
    `;
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"
    card.querySelector('button').addEventListener('click', function() {
        goToGameDetail(game.id);
    });
    
    return card;
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –∫–ª—é—á—É
function getCategoryName(categoryKey) {
      const categories = {
        'action': '–≠–∫—à–µ–Ω',
        'strategy': '–°—Ç—Ä–∞—Ç–µ–≥–∏—è',
        'puzzle': '–ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞',
        'adventure': '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ',
        'arcade': '–ê—Ä–∫–∞–¥–∞',
        'rpg': 'RPG',
        'simulation': '–°–∏–º—É–ª—è—Ç–æ—Ä',
        'sports': '–°–ø–æ—Ä—Ç',
        'casual': '–ö–∞–∑—É–∞–ª—å–Ω–∞—è'
    };
    return categories[categoryKey] || '–î—Ä—É–≥–æ–µ';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
function getPlatformName(platform) {
    const platforms = {
        'pc': '–ü–ö',
        'mobile': '–ú–æ–±–∏–ª—å–Ω–∞—è',
        'all': '–í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã'
    };
    return platforms[platform] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
function getPlatformIcon(platform) {
    const icons = {
        'pc': 'üíª',
        'mobile': 'üì±',
        'all': 'üåê'
    };
    return icons[platform] || 'üéÆ';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
function getPlatformClass(platform) {
    return `platform-${platform}`;
}

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä—ã
function openAddGameModal() {
    addGameModal.style.display = 'block';
    // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
    gameForm.reset();
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö –≤ —Ñ–æ—Ä–º–µ
function updateScreenshotWarnings() {
    const platform = document.querySelector('input[name="platform"]:checked');
    if (!platform) return;
    
    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
    document.querySelectorAll('.screenshot-warning').forEach(warning => {
        warning.classList.remove('show');
    });
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
    const selectedWarning = document.querySelector(`.screenshot-warning.${platform.value}`);
    if (selectedWarning) {
        selectedWarning.classList.add('show');
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
function getScreenType() {
    const width = window.innerWidth;
    const height = window.innerHeight;
    return width > height ? 'desktop' : 'mobile';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
function updateImageRecommendations() {
    const screenType = getScreenType();
    const requirements = document.querySelectorAll('.requirement-item');
    
    requirements.forEach(item => {
        if (item.classList.contains('desktop-warning')) {
            item.style.display = screenType === 'desktop' ? 'flex' : 'none';
        }
        if (item.classList.contains('mobile-warning')) {
            item.style.display = screenType === 'mobile' ? 'flex' : 'none';
        }
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
function validateImageUrl(url) {
    const imageExtensions = ['.jpg', '.jpeg', '.png', '.webp', '.gif'];
    return imageExtensions.some(ext => url.toLowerCase().includes(ext));
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª–µ–π —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
function validateImageFields() {
    const iconUrl = document.getElementById('icon-url').value;
    const screenshotsUrl = document.getElementById('screenshots-url').value;
    
    if (iconUrl && !validateImageUrl(iconUrl)) {
        showFieldWarning('icon-url', '–°—Å—ã–ª–∫–∞ –º–æ–∂–µ—Ç –Ω–µ –≤–µ—Å—Ç–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ');
    } else {
        hideFieldWarning('icon-url');
    }
    
    if (screenshotsUrl) {
        const screenshotUrls = screenshotsUrl.split(',').map(url => url.trim());
        const invalidUrls = screenshotUrls.filter(url => url && !validateImageUrl(url));
        
        if (invalidUrls.length > 0) {
            showFieldWarning('screenshots-url', '–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –º–æ–≥—É—Ç –Ω–µ –≤–µ—Å—Ç–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
        } else {
            hideFieldWarning('screenshots-url');
        }
    } else {
        hideFieldWarning('screenshots-url');
    }
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –ø–æ–ª–µ–π
function showFieldWarning(fieldId, message) {
    let warningElement = document.getElementById(`${fieldId}-warning`);
    if (!warningElement) {
        const field = document.getElementById(fieldId);
        warningElement = document.createElement('div');
        warningElement.id = `${fieldId}-warning`;
        warningElement.className = 'field-warning';
        warningElement.style.cssText = `
            color: #ffd54f;
            font-size: 0.8rem;
            margin-top: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        `;
        warningElement.innerHTML = `‚ö†Ô∏è ${message}`;
        field.parentNode.appendChild(warningElement);
    }
    warningElement.textContent = `‚ö†Ô∏è ${message}`;
    warningElement.style.display = 'flex';
}

function hideFieldWarning(fieldId) {
    const warningElement = document.getElementById(`${fieldId}-warning`);
    if (warningElement) {
        warningElement.style.display = 'none';
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
function handleFormSubmit(e) {
    e.preventDefault();
    
    const platform = document.querySelector('input[name="platform"]:checked');
    if (!platform) {
        showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∏–≥—Ä—ã', 'error');
        return;
    }
    
    // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
    let formData = {
        dev_email: document.getElementById('dev-email').value,
        game_title: document.getElementById('game-title').value,
        game_description: document.getElementById('game-description').value,
        game_url: document.getElementById('game-url').value,
        icon_url: document.getElementById('icon-url').value,
        screenshots_url: document.getElementById('screenshots-url').value,
        donation_url: document.getElementById('donation-url').value || '–ù–µ —É–∫–∞–∑–∞–Ω–∞',
        game_category: document.getElementById('game-category').value,
        platform: platform.value
    };
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ EmailJS
    emailjs.send('service_lebtcym', 'template_plh62yn', formData)
        .then(function(response) {
            showNotification('–ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.', 'success');
            gameForm.reset();
            addGameModal.style.display = 'none';
        }, function(error) {
            showNotification('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.', 'error');
            console.error('–û—à–∏–±–∫–∞ EmailJS:', error);
        });
}

// –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
function showNotification(message, type) {
    notification.textContent = message;
    notification.className = `notification ${type} show`;
    
    setTimeout(() => {
        notification.classList.remove('show');
    }, 5000);
}
/*
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
function handleImageError(img) {
    img.src = 'https://via.placeholder.com/300x200/283593/ffffff?text=Image+Not+Found';
    img.alt = '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ';
}
*/
// –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ HTML
//window.handleImageError = handleImageError;

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
function goToGameDetail(gameId) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã –≤ localStorage
    localStorage.setItem('selectedGameId', gameId);
    // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É game.html
    window.location.href = 'game.html';
}



// –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    loadGames('all');
    setupEventListeners();
});